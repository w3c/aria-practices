<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Example of Tabs with Automatic Activation | WAI-ARIA Authoring Practices 1.2</title>

    <!--  Core js and css shared by all examples; do not modify when using this template. -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../css/core.css">
    <script src="../../js/examples.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/app.js"></script>

    <!--  js and css for this example. -->
    <link href="../css/tabs.css" rel="stylesheet">
  </head>
  <body>
    <nav aria-label="Related Links" class="feedback">
      <ul>
        <li><a href="../../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
        <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
        <li><a href="https://github.com/w3c/aria-practices/projects/11">Related Issues</a></li>
        <li><a href="../../../#tabpanel">Design Pattern</a></li>
      </ul>
    </nav>
    <main>
      <h1>Example of Tabs with Automatic Activation</h1>
      <p>
          This example section demonstrates a tabs widget that implements the  <a href="../../../#tabpanel">design pattern for tabs</a>.
          In this example,  a tab is automatically activated and its associated panel is displayed when the tab receives focus.
          Tabs should only be automatically activated in circumstances where panels can be displayed instantly, i.e., all panel content is present in the DOM.
          For additional guidance, see <a href="../../../#kbd_selection_follows_focus">Deciding When to Make Selection Automatically Follow Focus</a>.
      </p>
      <p>Similar examples include: </p>
      <ul>
        <li><a href="../tabs-2/tabs.html">Example of Tabs with Manual Activation</a>: A tabs widget where users activate a tab and display its panel by pressing <kbd>Space</kbd> or <kbd>Enter</kbd>.</li>
      </ul>

      <section>
        <h2 id="ex_label">Example</h2>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <div id="ex1">
          <div class="tabs">
            <div role="tablist" aria-label="Entertainment">
              <button type="button" role="tab" aria-selected="true" aria-controls="nils-tab" id="nils">Nils Frahm</button>
              <button type="button" role="tab" aria-selected="false" aria-controls="agnes-tab" id="agnes" tabindex="-1">Agnes Obel</button>
              <button type="button" role="tab" aria-selected="false" aria-controls="complexcomplex" id="complex" tabindex="-1" data-deletable>Joke</button>
            </div>

            <div tabindex="0" role="tabpanel" id="nils-tab" aria-labelledby="nils">
              <p>Nils Frahm is a German musician, composer and record producer based in Berlin. He is known for combining classical and electronic music and for an unconventional approach to the piano in which he mixes a grand piano, upright piano, Roland Juno-60, Rhodes piano, drum machine, and Moog Taurus.</p>
            </div>

            <div tabindex="0" role="tabpanel" id="agnes-tab" aria-labelledby="agnes" class="is-hidden">
              <p>Agnes Caroline Thaarup Obel is a Danish singer/songwriter. Her first album, Philharmonics, was released by PIAS Recordings on 4 October 2010 in Europe. Philharmonics was certified gold in June 2011 by the Belgian Entertainment Association (BEA) for sales of 10,000 Copies.</p>
            </div>

            <div tabindex="0" role="tabpanel" id="complexcomplex" aria-labelledby="complex" class="is-hidden">
              <p>Fear of complicated buildings:</p>
              <p>A complex complex complex.</p>
            </div>
          </div>
        </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

      <section>
        <h2>Accessibility Features</h2>
        <p>
          To demonstrate the effects of deleting a tab, the third tab, labeled <q>Joke</q>,
          can be deleted when it has focus by pressing <kbd>Delete</kbd>.
        </p>
      </section>

      <section>
        <h2 id="kbd_label">Keyboard Support</h2>
        <table aria-labelledby="kbd_label" class="def">
          <thead>
            <tr>
              <th>Key</th>
              <th>Function</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="key-tab">
              <th><kbd>Tab</kbd></th>
              <td>
                <ul>
                  <li>When focus moves into the tab list, places focus on the active <code>tab</code> element .</li>
                  <li>When the tab list contains the focus, moves focus to the next element in the tab sequence, which is the <code>tabpanel</code> element.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-right-arrow">
              <th><kbd>Right Arrow</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to the next tab.</li>
                  <li>If focus is on the last tab, moves focus to the first tab.</li>
                  <li>Activates the newly focused tab.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-left-arrow">
              <th><kbd>Left Arrow</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to the previous tab.</li>
                  <li>If focus is on the first tab, moves focus to the last tab.</li>
                  <li>Activates the newly focused tab.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-home">
              <th><kbd>Home</kbd></th>
              <td>Moves focus to the first tab and activates it.</td>
            </tr>
            <tr data-test-id="key-end">
              <th><kbd>End</kbd></th>
              <td>Moves focus to the last tab and activates it.</td>
            </tr>
            <tr data-test-id="key-delete">
              <th><kbd>Delete</kbd></th>
              <td>When focus is on the <q>Joke</q> tab, removes the tab from the tab list and places focus on the previous tab.</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>
        <table aria-labelledby="rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">Role</th>
              <th scope="col">Attribute</th>
              <th scope="col">Element</th>
              <th scope="col">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="tablist-role">
              <th scope="row">
                <code>tablist</code>
              </th>
              <td></td>
              <td>
                <code>div</code>
              </td>
              <td>Indicates that the element serves as a container for a set of tabs.</td>
            </tr>
            <tr data-test-id="tablist-aria-label">
              <td></td>
              <th scope="row">
                <code>aria-label=<q>Entertainment</q></code>
              </th>
              <td>
                <code>div</code>
              </td>
              <td>Provides a label that describes the purpose of the set of tabs.</td>
            </tr>
            <tr data-test-id="tab-role">
              <th scope="row">
                <code>tab</code>
              </th>
              <td></td>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>Indicates the element serves as a tab control.</li>
                  <li>
                    When focused, is automatically activated, causing its associated <code>tabpanel</code>
                    to be displayed.
                  </li>
                  <li>
                    Provides a title for its associated <code>tabpanel</code>.
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tab-aria-selected">
              <td></td>
              <th scope="row">
                <code>aria-selected=<q>true</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>Indicates the tab control is activated and its associated panel is displayed.</li>
                  <li>Set when a tab receives focus.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tab-aria-selected">
              <td></td>
              <th scope="row">
                <code>aria-selected=<q>false</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>
                    Indicates the tab control is not active and its associated panel is <strong>NOT</strong>
                    displayed.
                  </li>
                  <li>Set for all tab elements in the tab set except the focused tab.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tab-tabindex">
              <td></td>
              <th scope="row">
                <code>tabindex=<q>-1</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>Removes the element from the page <kbd>Tab</kbd> sequence.</li>
                  <li>Set when a tab is not selected so that only the selected tab is in the page <kbd>Tab</kbd> sequence.</li>
                  <li>Since an HTML <code>button</code> element is used for the tab, it is not necessary to set <code>tabindex=<q>0</q></code> on the selected (active) tab element.</li>
                  <li>This approach to managing focus is described in the section on <a href="../../../#kbd_roving_tabindex">roving tabindex</a>.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tab-aria-control">
              <td></td>
              <th scope="row">
                <code>aria-controls=<q>IDREF</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                Refers to the <code>tabpanel</code> element associated with the tab.
              </td>
            </tr>
            <tr data-test-id="tabpanel-role">
              <th scope="row">
                <code>tabpanel</code>
              </th>
              <td></td>
              <td>
                <code>div</code>
              </td>
              <td>
                <ul>
                  <li>Indicates the element serves as a container for tab panel content.</li>
                  <li>
                    Is hidden unless its associated <code>tab</code> control is activated.
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tabpanel-aria-labelledby">
              <td></td>
              <th scope="row">
                <code>aria-labelledby=<q>IDREF</q></code>
              </th>
              <td>
                <code>div</code>
              </td>
              <td>
                <ul>
                  <li>
                    Refers to the <code>tab</code> element that controls the panel.
                  </li>
                  <li>Provides an accessible name for the tab panel.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="tabpanel-tabindex">
              <td></td>
              <th scope="row">
                <code>tabindex=<q>0</q></code>
              </th>
              <td>
                <code>div</code>
              </td>
              <td>
                <ul>
                  <li>Puts the tabpanel in the page <kbd>Tab</kbd> sequence.</li>
                  <li>Facilitates movement to panel content for assistive technology users.</li>
                  <li>Especially helpful if there are panels that do not contain a focusable element.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>Javascript and CSS Source Code</h2>
        <ul>
          <li>CSS: <a href="../css/tabs.css" type="tex/css">tabs.css</a></li>
          <li>Javascript: <a href="js/tabs.js" type="text/javascript">tabs.js</a></li>
        </ul>
      </section>

      <section>
        <h2 id="sc1_label">HTML Source Code</h2>
        <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
        <pre><code id="sc1"></code></pre>
        <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
        <script>
          sourceCode.add('sc1', 'ex1');
          sourceCode.make();
        </script>
      </section>

    </main>

    <nav>
      <!--  Update the pattern_ID parameter of this link to refer to the APG design pattern section related to this example.  -->
      <a href="../../../#tabpanel">Tabs Design Pattern in WAI-ARIA Authoring Practices 1.2</a>
    </nav>

    <script src="js/tabs.js"></script>
  </body>
</html>
