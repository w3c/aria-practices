<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Tabs With Manual Activation | WAI-ARIA Authoring Practices 1.1</title>

    <!--  Core js and css shared by all examples; do not modify when using this template. -->
    <link href="../../css/core.css" rel="stylesheet">
    <link href="../../css/table.css" rel="stylesheet">
    <script src="../../js/examples.js" type="text/javascript"></script>

    <!--  js and css for this example. -->
    <link href="css/tabs.css" rel="stylesheet">
  </head>
  <body>
    <main>
      <h1>Tabs With Manual Activation</h1>
      <p>
        Please provide feedback on updates to this page in 
        <a href="https://github.com/w3c/aria-practices/issues/279">issue 279.</a>
      </p>
      <p>
          The below example section demonstrates a tabs widget that implements the  <a href="../../../#tabpanel">tabs design pattern</a>.
          In this example,  a new panel is displayed only after the user activates a tab with either <kbd>Space</kbd>, <kbd>Enter</kbd>, or a mouse click.
          Typically, manual activation of tabs is only necessary when panels cannot be displayed instantly, i.e., not all the panel content is present in the DOM.
          For additional guidance, see <a href="../../../#kbd_selection_follows_focus">Deciding When to Make Selection Automatically Follow Focus</a>.
      </p>
      <p>Similar examples include: </p>
      <ul>
        <li><a href="../tabs-1/tabs.html">Tabs With Automatic Activation</a>: A tabs widget where tabs are automatically activated and their panel is displayed when they receive focus.</li>
      </ul>

      <section>
        <h2 id="ex_label">Example</h2>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <div id="ex1">
          <div class="tabs">
            <div role="tablist" aria-label="Entertainment">
              <button role="tab" aria-selected="true" aria-controls="nils-tab" id="nils">Nils Frahm</button>
              <button role="tab" aria-selected="false" aria-controls="helios-tab" id="helios" tabindex="-1">Helios</button>
              <button role="tab" aria-selected="false" aria-controls="complexcomplex" id="complex" tabindex="-1" data-deletable>Joke</button>
            </div>

            <div tabindex="0" role="tabpanel" id="nils-tab" aria-labelledby="nils">
              <p>Nils Frahm is a German musician, composer and record producer based in Berlin. He is known for combining classical and electronic music and for an unconventional approach to the piano in which he mixes a grand piano, upright piano, Roland Juno-60, Rhodes piano, drum machine, and Moog Taurus.</p>
            </div>

            <div tabindex="0" role="tabpanel" id="helios-tab" aria-labelledby="helios" hidden>
              <p>Helios (Keith Kenniff) is an American composer, multi-instrumentalist, and electronic music producer. He composes ambient/electronic music under the moniker Helios and post-classical piano music under Goldmund. He is also one half of the indie band Mint Julep, and ambient project "A Pale Fire". Keith is also a composer for film, television, dance and performance art. In 2010 he created the record label Unseen.</p>
            </div>

            <div tabindex="0" role="tabpanel" id="complexcomplex" aria-labelledby="complex" hidden>
              <p>Fear of complicated buildings:</p>
              <p>A complex complex complex.</p>
            </div>
          </div>
        </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

      <section hidden>
        <h2>Accessibility Features</h2>
        <p class="annotate">Please replace this content with a list of accessibility features demonstrated in this implementation, such as:</p>
        <ul>
          <li>ARIA roles</li>
          <li>property and state information</li>
          <li>Event handlers</li>
          <li><code>tabindex</code> values</li>
        </ul>
      </section>

      <section>
        <h2 id="kbd_label">Keyboard Support</h2>
        <table aria-labelledby="kbd_label">
          <thead>
            <tr>
              <th>Key</th>
              <th>Function</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th><kbd>tab</kbd></th>
              <td>
                <ul>
                  <li>When focus moves into the tab list, places focus on the active <code>tab</code> element .</li>
                  <li>When the tab list contains the focus, moves focus to the next element in the tab sequence, which is the <code>tabpanel</code> element.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>Enter</kbd><br><kbd>Space</kbd></th>
              <td>
                When a tab has focus, activates the tab, causing its associated panel to be displayed.
              </td>
            </tr>
            <tr>
              <th><kbd>right arrow</kbd></th>
              <td>
                When a tab has focus:
                <ul>
                  <li>Moves focus to the next tab.</li>
                  <li>If focus is on the last tab, moves focus to the first tab.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>left arrow</kbd></th>
              <td>
                When a tab has focus:
                <ul>
                  <li>Moves focus to the previous tab.</li>
                  <li>If focus is on the first tab, moves focus to the last tab.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>home</kbd></th>
              <td>When a tab has focus, moves focus to the first tab.</td>
            </tr>
            <tr>
              <th><kbd>end</kbd></th>
              <td>When a tab has focus, moves focus to the last tab.</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>
        <table aria-labelledby="rps_label">
          <thead>
            <tr>
              <th scope="col">Role</th>
              <th scope="col">Attribute</th>
              <th scope="col">Element</th>
              <th scope="col">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">
                <code>tablist</code>
              </th>
              <td></td>
              <td>
                <code>div</code>
              </td>
              <td>Indicates that the element serves as a container for a set of tabs.</td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>aria-label=<q>Entertainment</q></code>
              </th>
              <td>
                <code>div</code>
              </td>
              <td>Provides a label that describes the purpose of the set of tabs.</td>
            </tr>
            <tr>
              <th scope="row">
                <code>tab</code>
              </th>
              <td></td>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>Indicates the element serves as a tab control.</li>
                  <li>
                    Provides a title for its associated <code>tabpanel</code>.
                  </li>
                </ul>
              </td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>aria-selected=<q>true</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>Indicates the tab control is activated and its associated panel is displayed.</li>
                  <li>Set when a user activates a tab.</li>
                  <li>Does not change when focus moves in the <code>tablist</code>.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>aria-selected=<q>false</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>
                    Indicates the tab control is not active and its associated panel is <strong>NOT</strong>
                    displayed.
                  </li>
                  <li>Set for all tab elements in the tab set except the active tab; the one associated with the currently displayed panel.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>tabindex=<q>-1</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>Removes the element from the page <kbd>Tab</kbd> sequence.</li>
                  <li>Set when a tab is not selected so that only the selected (active) tab is in the page <kbd>Tab</kbd> sequence.</li>
                  <li>Since an HTML <code>button</code> element is used for the tab, it is not necessary to set <code>tabindex=<q>0</q></code> on the selected (active) tab element.</li>
                  <li>This approach to managing focus is described in the section on <a href="../../../#kbd_roving_tabindex">roving tabindex</a>.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>aria-controls=<q>IDREF</q></code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                Refers to the <code>tabpanel</code> element associated with the tab.
              </td>
            </tr>
            <tr>
              <th scope="row">
                <code>tabpanel</code>
              </th>
              <td></td>
              <td>
                <code>div</code>
              </td>
              <td>
                <ul>
                  <li>Indicates the element serves as a container for tab panel content.</li>
                  <li>
                    Is hidden unless its associated <code>tab</code> control is activated.
                  </li>
                </ul>
              </td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>aria-labelledby=<q>IDREF</q></code>
              </th>
              <td>
                <code>div</code>
              </td>
              <td>
                <ul>
                  <li>
                    Refers to the <code>tab</code> element that controls the panel.
                  </li>
                  <li>Provides an accessible name for the tab panel.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td></td>
              <th scope="row">
                <code>tabindex=<q>0</q></code>
              </th>
              <td>
                <code>div</code>
              </td>
              <td>
                <ul>
                  <li>Puts the tabpanel in the page <kbd>Tab</kbd> sequence.</li>
                  <li>Facilitates movement to panel content for assistive technology users.</li>
                  <li>Especially helpful if there are panels that do not contain a focusable element.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>Javascript and CSS Source Code</h2>
        <ul>
          <li>CSS: <a href="css/tabs.css" type="tex/css">tabs.css</a></li>
          <li>Javascript: <a href="js/tabs.js" type="text/javascript">tabs.js</a></li>
        </ul>
      </section>

      <section>
        <h2 id="sc1_label">HTML Source Code</h2>
        <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
        <div id="sc1"></div>
        <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
        <script>
          sourceCode.add('sc1', 'ex1');
          sourceCode.make();
        </script>
      </section>

    </main>

    <nav>
      <a href="../../../#tabpanel">Tabs Design Pattern in WAI-ARIA Authoring Practices 1.1</a>
    </nav>

    <script src="js/tabs.js" type="text/javascript"></script>
    
  </body>
</html>
