<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Auto-Rotating Image Carousel Example | WAI-ARIA Authoring Practices 1.1</title>

    <!--  Core js and css shared by all examples; do not modify when using this template. -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../css/core.css">
    <script src="../../js/examples.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/app.js"></script>

    <!--  js and css for this example. -->
    <link rel="stylesheet" href="css/carousel.css">
    <script src="js/carousel.js" type="text/javascript"></script>
    <script src="js/carouselItem.js" type="text/javascript"></script>
    <script src="js/carouselButtons.js" type="text/javascript"></script>
    <script src="js/pauseButton.js" type="text/javascript"></script>

  </head>
  <body>
    <nav aria-label="Related Links" class="feedback">
      <ul>
        <li><a href="../../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
        <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
        <li><a href="https://github.com/w3c/aria-practices/projects/10">Related Issues</a></li>
        <li><a href="../../../#carousel">Design Pattern</a></li>
      </ul>
    </nav>
    <main>
      <h1>Auto-Rotating Image Carousel Example</h1>
      <p>
        Comments on this example are tracked in
        <a href="https://github.com/w3c/aria-practices/issues/458">issue 458.</a>
      </p>
      <p>
        The following example implementation of the
        <a href="../../../#carousel">carousel design pattern</a>
        demonstrates features of the pattern that are essential to accessibility for carousels that automatically start rotating when the page loads.
        For instance, Rotation stops when users move focus to any control or link in the carousel or hover the mouse over carousel content.
        The accessibility features section that follows the example describes these features in detail.
      </p>

      <section>
        <h2 id="ex_label">Example</h2>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <div id="ex1">
            <section id="myCarousel" class="carousel slide" aria-roledescription="carousel" aria-label="Highlighted television shows">
              <button class="pause">Stop Carousel</button>

              <div class="carousel-inner">

                <a class="previous carousel-control"
                   role="button"
                   tabindex="0"
                   aria-controls="myCarousel-items"
                   aria-label="Previous Slide">
                  <svg width="30" height="30" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="30 0 30 30 0 15"
                        stroke="white" fill="white" stroke-width="2"/>
                  </svg>
                </a>

                <a class="next carousel-control"
                   role="button"
                   tabindex="0"
                   aria-controls="myCarousel-items"
                   aria-label="Next Slide">
                  <svg width="30" height="30" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="0 0 30 15 0 30"
                        stroke="white" fill="white" stroke-width="2"/>
                  </svg>
                </a>

                <div id="myCarousel-items" class="carousel-items" aria-live="off">

                  <div class="carousel-item active" role="group" aria-roledescription="slide" aria-label="1 of 6" aria-describedby="carousel-label-1">

                    <div class="carousel-image">
                      <a href="#">
                        <img src="images/amsterdamslide__800x600.jpg" alt="Walking Tour in Amsterdam" />
                      </a>
                    </div>

                    <div class="carousel-caption">

                      <h2>
                        <a href="#" id="carousel-label-1">
                           Dynamic Europe: Amsterdam, Prague, Berlin
                        </a>
                      </h2>

                      <div class="hidden-xs hidden-sm">
                        <p>7 pm Tuesday, March 3, on TV</p>
                      </div>
                    </div>  <!-- .carousel-caption -->
                  </div>   <!-- .item -->

                  <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="2 of 6" aria-describedby="carousel-label-2">

                    <div class="carousel-image">
                      <a href="#">
                        <img src="images/lands-endslide__800x600.jpg" alt="Land&#039;s End in Cornwall"/>
                      </a>
                    </div>

                    <div class="carousel-caption">

                      <h2>
                        <a href="#" id="carousel-label-2">
                          Travel to Southwest England and Paris
                        </a>
                      </h2>

                      <div>
                        <p>Sept. 14 to Sept. 24 or 27</p>
                      </div>
                    </div>  <!-- .carousel-caption -->
                  </div>   <!-- .item -->

                  <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="3 of 6" aria-describedby="carousel-label-3">

                    <div class="carousel-image">
                      <a href="#">
                        <img src="images/trustslide-2__800x600.jpg" alt="Mom and daughter play Daniel Tiger game on notebook computer."/>
                      </a>
                    </div>

                    <div class="carousel-caption">

                      <h2>
                        <a href="#" id="carousel-label-3">
                          Survey confirms that TV  is America&#8217;s most trusted institution
                        </a>
                      </h2>

                      <div>

                      </div>
                    </div>  <!-- .carousel-caption -->
                  </div>   <!-- .item -->

                  <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="4 of 6" aria-describedby="carousel-label-4">

                    <div class="carousel-image">
                      <a href="#">
                        <img src="images/foyleswarslide__800x600.jpg" alt="A man in a suit and fedora and a woman with coiffed hair look sternly into the camera."/>
                      </a>
                    </div>

                    <div class="carousel-caption">

                      <h2>
                        <a href="#" id="carousel-label-4">
                          Foyle&#8217;s War Revisited
                        </a>
                      </h2>

                      <div>
                        <p>8 pm Sunday, March 8, on TV: Sneak peak at the final season.</p>
                      </div>
                    </div>  <!-- .carousel-caption -->
                  </div>   <!-- .item -->

                  <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="5 of 6" aria-describedby="carousel-label-5">

                    <div class="carousel-image">
                        <img src="images/britcomdavidslide__800x600.jpg" alt="British flag with WILL-TV host David Thiel."/>
                    </div>

                    <div class="carousel-caption">

                      <h2>
                        <a href="#" id="carousel-label-5">
                          Great Britain Vote: 7 pm Sat.
                        </a>
                      </h2>

                      <div>
                      </div>
                    </div>  <!-- .carousel-caption -->
                  </div>   <!-- .item -->

                  <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="6 of 6" aria-describedby="carousel-label-6">

                    <div class="carousel-image">
                      <a href="#">
                        <img src="images/mag800-2__800x600.jpg" alt="Mid-American Gardener panelists on the set" />
                      </a>
                    </div>

                    <div class="carousel-caption">

                      <h2>
                        <a href="#" id="carousel-label-6">
                          Mid-American Gardener: Thursdays at 7 pm
                        </a>
                      </h2>

                      <div class="hidden-xs hidden-sm">
                        <p>Watch the latest episodes.</p>
                      </div>
                    </div>  <!-- .carousel-caption -->
                  </div>   <!-- .item -->

                </div>


              </div> <!-- carousel-inner -->


            </section><!-- /.carousel -->

            <div class="col-sm-1"></div>

          </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

      <section>
        <h2>Accessibility Features</h2>
        <ul>
          <li>Automatic rotation of slides in the carousel can be easily controlled by any user.
            <ul>
              <li>
                Hovering the mouse over any carousel content pauses automatic rotation.
                Automatic rotation resumes when the mouse moves away from the carousel unless another condition, such as keyboard focus,  that prevents rotation has been triggered.
              </li>
              <li>
                Moving keyboard focus to any of the carousel content, including the next and previous slide elements, pauses automatic rotation.
                Automatic rotation resumes when keyboard focus moves out of the carousel content unles another condition, such as mouse hover,  that prevents rotation has been triggered.
              </li>
              <li>The carousel also contains a rotation control button that can stop and start automatic rotation.
                <ul>
                  <li>The rotation control button is the first element in the screen reader reading order.</li>
                  <li>The button is hidden off-screen when it does not have keyboard focus, and becomes visible when users move focus to it with <kbd>Tab</kbd>.</li>
                  <li>
                    When not visible, the button is positioned off-screen, instead of being hidden with <code>display:none</code>, so it is always available to screen reader users.
                    This is an important aspect of supporting users of screen readers that do not move the mouse or keyboard focus as the user is reading.
                  </li>
                  <li>If the carousel is rotating, the button is labeled "Stop Automatic Slide Show", informing screen reader users that the slides are changing in addition to providing a way to stop the changes.</li>
                  <li>If the carousel is not rotating, the button is labeled "Start Automatic Slide Show."</li>
                  <li>If a user has activated the button to stop the show, the rotation will only restart if the button is activated. Moving keyboard focus or the mouse out of the carousel will not restart rotation.</li>
                  <li>If keyboard focus is inside the carousel, or if the mouse is hovering over the carousel, the button is disabled; it cannot be used to start rotation.</li>
                </ul>
              </li>
            </ul>
          </li>
          </li>
          <li>
            To improve readability of the caption text and content, the transparency of the caption area is decreased when the mouse hovers over the carousel content.
            This improves the color contrast ratio of the white text, especially when light colored images are present in the background.
          </li>
        </ul>
      </section>

      <section>
        <h2 id="kbd_label">Keyboard Support</h2>
        <section>
          <h3 id="kbd_label_2">Pause Slide Rotation Button</h3>
          <table aria-labelledby="kbd_label_2" class="def">
            <thead>
              <tr>
                <th>Key</th>
                <th>Function</th>
              </tr>
            </thead>
            <tbody>
              <tr data-test-id="carousel-key-tab">
                <th><kbd>Tab</kbd></th>
                <td>
                  The button becomes visible when it receives keyboard focus.
                </td>
              </tr>
              <tr data-test-id="carousel-enter-or-space-toggle">
                <th><kbd>Enter</kbd> or <kbd>Space</kbd></th>
                <td>
                  <ul>
                    <li>Activating the button will toggle the auto rotation of slides in the carousel.</li>
                    <li>The purpose is to help screen reader users know there is a way to pause the auto rotation of images when they are in review mode before they get to the rotating content (e.g. not stopping the images may cause screen reader to move reading back to the top of the page when they are reading content that becomes hidden).</li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3 id="kbd_label_3">Next/Previous Slide Buttons</h3>
          <table aria-labelledby="kbd_label_3" class="def">
            <thead>
              <tr>
                <th>Key</th>
                <th>Function</th>
              </tr>
            </thead>
            <tbody>
              <tr data-test-id="carousel-key-enter-or-space-move">
                <th><kbd>Enter</kbd> or <kbd>Space</kbd></th>
                <td>
                  Moves content to the next or previous slide in the image carousel.
                </td>
              </tr>
            </tbody>
          </table>
        </section>

      </section>

      <section>
        <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>

        <section>
          <h3 id="rps_label_1">Carousel Regions and Groups</h3>
          <table aria-labelledby="rps_label_1" class="data attributes">
            <thead>
              <tr>
                <th scope="col">Role</th>
                <th scope="col">Attribute</th>
                <th scope="col">Element</th>
                <th scope="col">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr data-test-id="carousel-region-role">
                <th scope="row">
                  <code>region</code>
                </th>
                <td></td>
                <td>
                  <code>section</code>
                </td>
                <td>
                  <ul>
                    <li>The <code>region</code> landmark is defined by a <code>section</code> element with a accessible name.</li>
                    <li>The accessible name of the <code>region</code> landmark is defined using the <code>aria-label</code> attribute.</li>
                  </ul>
                </td>
              </tr>
              <tr data-test-id="carousel-region-aria-roledescription">
                <td></td>
                <th scope="row">
                  <code>aria-roledescription=<q>carousel</q></code>
                </th>
                <td>
                  <code>section</code>
                </td>
                <td>Identifies the region as <q>carousel</q> content.</td>
              </tr>
              <tr data-test-id="carousel-region-aria-label">
                <td></td>
                <th scope="row">
                  <code>aria-label=<q>Highlighted television shows</q></code>
                </th>
                <td>
                  <code>section</code>
                </td>
                <td>Provides a label that describes the content in the carousel region.</td>
              </tr>
              <tr data-test-id="carousel-group-role">
                <th scope="row">
                  <code>group</code>
                </th>
                <td></td>
                <td>
                  <code>div.carousel-item</code>
                </td>
                <td>
                  <ul>
                    <li>The <code>group</code> role is used to defined a set of related content, in this case the content of the individual slides.</li>
                    <li>The accessible name of the <code>region</code> landmark is defined using the <code>aria-label</code> attribute.</li>
                  </ul>
                </td>
              </tr>
              <tr data-test-id="carousel-aria-roledescription">
                <td></td>
                <th scope="row">
                  <code>aria-roledescription=<q>slide</q></code>
                </th>
                <td>
                  <code>div.carousel-item</code>
                </td>
                <td>Identifies the group as a <q>slide</q> content.</td>
              </tr>
              <tr data-test-id="carousel-aria-label-number-of-slide">
                <td></td>
                <th scope="row">
                  <code>aria-label=<q><em>N</em> of 6</q></code>
                </th>
                <td>
                  <code>div.carousel-item</code>
                </td>
                <td>Identifies the number of the slide in the group of 6 slides.</td>
              </tr>
              <tr data-test-id="carousel-aria-describedby">
                <td></td>
                <th scope="row">
                  <code>aria-describedby=<q>IDREF</q></code>
                </th>
                <td>
                  <code>div.carousel-item</code>
                </td>
                <td>Provides additional information about the group by pointing to the content of the slide.</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3 id="rps_label_2">Live Region</h3>
          <table aria-labelledby="rps_label_2" class="data attributes">
            <thead>
              <tr>
                <th scope="col">Role</th>
                <th scope="col">Attribute</th>
                <th scope="col">Element</th>
                <th scope="col">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr data-test-id="carousel-aria-live-off">
                <td></td>
                <th scope="row">
                  <code>aria-live=<q>off</q></code>
                </th>
                <td>
                  <code>div.carousel-inner</code>
                </td>
                <td>
                  <ul>
                    <li>Identifies the container element of all the slides as a live region.</li>
                    <li>When the slides are auto-rotating the live region is <em>disabled</em> by setting the <code>aria-live</code> attribute to <code><q>off</q></code>.</li>
                  </ul>
                </td>
              </tr>
              <tr data-test-id="carousel-aria-live-polite">
                <td></td>
                <th scope="row">
                  <code>aria-live=<q>polite</q></code>
                </th>
                <td>
                  <code>div.carousel-inner</code>
                </td>
                <td>
                  <ul>
                    <li>When the images auto-rotating of images is paused or one of the interactive elements within the carousel has focus the live region is <em>enabled</em> using <code>aria-live</code> attribute set to <code><q>polite</q></code>.</li>
                    <li>When the live region is enabled the content of a new slide can be automatically read by screen readers.</li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3 id="rps_label_3">Start/Pause Slide Rotation</h3>
          <table aria-labelledby="rps_label_3" class="data attributes">
            <thead>
              <tr>
                <th scope="col">Role</th>
                <th scope="col">Attribute</th>
                <th scope="col">Element</th>
                <th scope="col">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr data-test-id="carousel-button-role-start-pause">
                <th scope="row">
                  <code>button</code>
                </th>
                <td></td>
                <td>
                  <code>button</code>
                </td>
                <td>
                  <ul>
                    <li>The default role for the <code>button</code> element is <code>button</code> role.</li>
                    <li>Accessible name comes from the text content of the button.</li>
                    <li>When the <em>action</em> of the button is to stop rotation the text content (e.g. accessible name) of the button is <q>Pause Rotation</q>.</li>
                    <li>When the <em>action</em> of the button is to restart rotation of the slides the text content (e.g. accessible name) of the button is <q>Start Rotation</q>.
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3 id="rps_label_4">Next/Previous Slide Buttons</h3>
          <table aria-labelledby="rps_label_4" class="data attributes">
            <thead>
              <tr>
                <th scope="col">Role</th>
                <th scope="col">Attribute</th>
                <th scope="col">Element</th>
                <th scope="col">Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr data-test-id="carousel-button-role-overrides-link">
                <th scope="row">
                  <code>button</code>
                </th>
                <td></td>
                <td>
                  <code>a</code>
                </td>
                <td>
                  <ul>
                    <li>Overrides the default role of <code>link</code> with <code>button</code> role.</li>
                    <li>Accessible name is defined using <code>aria-label</code>.</li>
                  </ul>
                </td>
              </tr>
              <tr data-test-id="carousel-aria-label-next-previous">
                <td></td>
                <th scope="row">
                  <code>aria-label=<q><em>name</em></q></code>
                </th>
                <td>
                  <code>a</code>
                </td>
                <td>Defines the accessible name for the next and previous slide buttons.</td>
              </tr>
              <tr data-test-id="carousel-aria-controls">
                <td></td>
                <th scope="row">
                  <code>aria-controls=<q>IDREF</q></code>
                </th>
                <td>
                  <code>a</code>
                </td>
                <td>
                  <ul>
                    <li>Identifies the content on the page that the button controls.</li>
                    <li>Relationship can be used by screen readers to provide navigation to the controlled content.</li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>

      <section>
        <h2>Javascript and CSS Source Code</h2>
        <ul>
          <li>CSS: <a href="../css/carousel.css" type="text/css">carousel.css</a></li>
          <li>Javascript: <a href="js/carousel.js" type="text/javascript">carousel.js</a></li>
          <li>Javascript: <a href="js/carouselItem.js" type="text/javascript">carouselItem.js</a></li>
          <li>Javascript: <a href="js/carouselButtons.js" type="text/javascript">carouselButtons.js</a></li>
          <li>Javascript: <a href="js/pauseButton.js" type="text/javascript">pauseButton.js</a></li>
        </ul>
      </section>

      <section>
        <h2 id="sc1_label">HTML Source Code</h2>
        <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
        <pre><code id="sc1"></code></pre>
        <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
        <script>
          sourceCode.add('sc1', 'ex1');
          sourceCode.make();
        </script>
      </section>

    </main>

    <nav>
      <!--  Update the pattern_ID parameter of this link to refer to the APG design pattern section related to this example.  -->
      <a href="../../../#carousel">Carousel Pattern in WAI-ARIA Authoring Practices 1.1</a>
    </nav>

  </body>
</html>

