<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Date Picker Example Using Spin Buttons | WAI-ARIA Authoring Practices 1.1</title>

<!--  Core js and css shared by all examples; do not modify when using this template. -->
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
<link rel="stylesheet" href="../css/core.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

<script src="../js/examples.js" type="text/javascript"></script>
<script src="../js/highlight.pack.js"></script>
<script src="../js/app.js"></script>

<link href="css/datepicker-spinbuttons.css" rel="stylesheet">
<script src="js/spinbutton-date.js" type="text/javascript"></script>
<script src="js/datepicker-spinbuttons.js" type="text/javascript"></script>
</head>
<body>
  <nav aria-label="Related Links" class="feedback">
    <ul>
      <li><a href="../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
      <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
      <li><a href="https://github.com/w3c/aria-practices/projects/14">Related Issues</a></li>
      <li><a href="../../#spinbutton">Design Pattern</a></li>
    </ul>
  </nav>
  <main>
    <h1>Date Picker Example Using Spin Buttons</h1>
    <p>
      <strong>NOTE:</strong> This example page is work in progress.
      Please provide feedback in
      <a href="https://github.com/w3c/aria-practices/issues/34">issue 34.</a>
    </p>
    <p>
      The date picker is an example of the <a href="../../#spinbutton"><code>Spin Button</code> design pattern</a> to define a date.
      In this example the year, month and date have separate <code>spin buttons</code>.
    </p>
  <section>
    <h2 id="ex_label">Example</h2>

    <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
    <div id="example">

      <div id="example-group"
           class="datepicker-spinbuttons"
           role="group"
           aria-labelledby="myDatepickerLabel myDatepickerDate">

           <h3 id="myDatepickerLabel">Date</h3>
           <div class="sr-only date" id="myDatepickerDate">Friday, June 30th, 2019</div>

        <div  class="day spinbutton"
              role="spinbutton"
              tabindex="0"
              aria-valuenow="1"
              aria-valuetext="first"
              aria-valuemin="1"
              aria-valuemax="31"
              aria-label="Day">
          <div class="decrease" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                <polygon points="2,18 18,18 10,4"></polygon>
            </svg>
          </div>
          <div class="previous" aria-hidden="true">30</div>
          <div class="value">1</div>
          <div class="next" aria-hidden="true">2</div>
          <div class="increase" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
              <polygon points="2,4 18,4 10,18"></polygon>
            </svg>
          </div>
        </div>

        <div  class="month spinbutton"
              role="spinbutton"
              tabindex="0"
              aria-valuenow="5"
              aria-valuetext="June"
              aria-valuemin="0"
              aria-valuemax="11"
              aria-label="Month">
          <div class="decrease" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                <polygon points="2,18 18,18 10,4"></polygon>
            </svg>
          </div>
          <div class="previous" aria-hidden="true">May</div>
          <div class="value">June</div>
          <div class="next" aria-hidden="true">July</div>
          <div class="increase" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
              <polygon points="2,4 18,4 10,18"></polygon>
            </svg>
          </div>
        </div>

        <div  class="year spinbutton"
              role="spinbutton"
              tabindex="0"
              aria-valuenow="2019"
              aria-valuemin="2019"
              aria-valuemax="2040"
              aria-label="Year">
          <div class="decrease" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                <polygon points="2,18 18,18 10,4"></polygon>
            </svg>
          </div>
          <div class="previous" aria-hidden="true">2018</div>
          <div class="value">2019</div>
          <div class="next" aria-hidden="true">2020</div>
          <div class="increase" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
              <polygon points="2,4 18,4 10,18"></polygon>
            </svg>
          </div>
        </div>
      </div>
    </div>
    <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
  </section>

  <section>
    <h2>Accessibility Features</h2>
    <p>The accessibility featues of the spin button date picker example:</p>
    <ul>
      <li>Day, month and year are separate spin buttons, each with their own tab stop.</li>
      <li>A off screen <code>div</code> element is used to include the current date in the accessible name for the element with the <code>group</code> role.  The group label is typically read by the screen reader when focus or the virtual cursor moves to one of the spin controls.</li>
      <li>The day spin button uses <code>aria-valuetext</code> to properly pronounce the day. e.g. first, second, third ...</li>
      <ii>The month spin button uses <code>aria-valuetext</code> to properly pronounce the month instead of the numeric value. e.g. January, February, ...</li>
      <li>The increase and decrease events are the <code>div</code> element containing the images of the up and odwn arrows, making the effective target area larger for changing the value of a spin button with a mouse or other pointing device.</li>
      <li>Focusing a spin button increases the size of the increase and decrease bttons to make the element with focus easier to identify and to track focus changes.</li>
    </ul>
  </section>
  <section>
    <h2 id="kbd_label">Keyboard Support</h2>

    <section>
      <h3 id="kbd_label_7">Spin Button (Day, Month and Year)</h3>
      <p>The spin button for changing the day, month and year provides the following keyboard support described in the <a href="../../#spinbutton">spin button design pattern.</a></p>
      <table aria-labelledby="kbd_label_7 kbd_label" class="def">
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr data-test-id="spinbutton-down-arrow">
            <th><kbd>Down Arrow</kbd></th>
            <td>
              <ul>
                <li>Decreases the spin button value by 1 item.</li>
                <li>When on the spin button for day is on the first day of the month, the value is set to the last day.</li>
                <li>When on the spin button for month is on <q>January</q>, the value is set to <q>December</q>.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="spinbutton-up-arrow">
            <th><kbd>Up Arrow</kbd></th>
            <td>
              <ul>
                <li>Increases the spin button value by 1 item.</li>
                <li>When on the spin button for day is on the last day of the month, the value is set to the first day.</li>
                <li>When on the spin button for month is on <q>December</q>, the value is set to <q>January</q>.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="spinbutton-page-down">
            <th><kbd>Page Down</kbd></th>
            <td>Decreases the spin button value by 5 items.</td>
          </tr>
          <tr data-test-id="spinbutton-page-up">
            <th><kbd>Page Up</kbd></th>
            <td>Increases the spin button value by 5 items.</td>
          </tr>
          <tr data-test-id="spinbutton-end">
            <th><kbd>End</kbd></th>
            <td>Set spin button value to maximum value.</td>
          </tr>
          <tr data-test-id="spinbutton-home">
            <th><kbd>Home</kbd></th>
            <td>Set spin button value to mimimum value.</td>
          </tr>
        </tbody>
      </table>
    </section>

  </section>

  <section>
    <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>


    <section>
      <h3 id="rps_label_7">Spin Button (Day, Month and Year)</h3>
      <p>The spin button for changing day, month and year use the following ARIA attributes described in the <a href="../../#spinbutton">spin button design pattern.</a></p>
      <table aria-labelledby="rps_label_7 rps_label" class="data attributes">
        <thead>
          <tr>
            <th scope="col">Role</th>
            <th scope="col">Attribute</th>
            <th scope="col">Element</th>
            <th scope="col">Usage</th>
          </tr>
        </thead>
        <tbody>
          <tr data-test-id="group-role">
            <th scope="row"><code>group</code></th>
            <td></td>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>Identifies the group of spin buttons for defining a date.</li>
                <li>The accessible name comes from the <code>aria-labelledby</code> attribute.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="group-aria-labelledby">
            <td></td>
            <th scope="row"><code>aria-labelledy="<em>IDREF</em>"</code></th>
            <td><code>div</code></td>
            <td>The IDREF identifies the element with the visible text defining the accessible name for the group of spin buttons, i.e. "Date" and an off screen <code>div</code> element that contains the current date represented by the spin buttons.</td>
          </tr>
          <tr data-test-id="spinbutton-role">
            <th scope="row"><code>spinbutton</code></th>
            <td></td>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>Identifies the <code>div</code> element as a <code>spinbutton</code>.</li>
                <li>The accessible name comes from the <code>aria-label</code> attribute.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="spinbutton-aria-label">
            <td></td>
            <th scope="row"><code>aria-label="<em>name</em>"</code></th>
            <td><code>div</code></td>
            <td>Defines the accessible name for each spin button (e.g. <q>day</q>, <q>month</q> and <q>year</q>).</td>
          </tr>
          <tr data-test-id="spinbutton-aria-valuenow">
            <td></td>
            <th scope="row"><code>aria-valuenow="<em>number</em>"</code></th>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>Indicates the current numeric value of the spin button.</li>
                <li>Updated by JavaScript as users change the value of the spin button.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="spinbutton-aria-valuetext">
            <td></td>
            <th scope="row"><code>aria-valuetext="<em>month</em>"</code></th>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>For the month spin button provides a more user friendly announcement of the current month for screen reader users.</li>
                <li>As users adjust the value, instead of hearing only a number, they will hear the current month.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="spinbutton-aria-valuemin">
            <td></td>
            <th scope="row"><code>aria-valuemin="8"</code></th>
            <td><code>div</code></td>
            <td>Indicates the minimum allowed value for the spin button.</td>
          </tr>
          <tr data-test-id="spinbutton-aria-valuemax">
            <td></td>
            <th scope="row"><code>aria-valuemax="40"</code></th>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>Indicates the maximum allowed value for the spin button.</li>
                <li>For the spin button for days, the maximum value is updated to reflect the number of days in the current month.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="spinbutton-aria-hidden">
            <td></td>
            <th scope="row"><code>aria-hidden="true"</code></th>
            <td>
              <ul>
                <li><code>div > .increase</code></li>
                <li><code>div > .next</code></li>
                <li><code>div > .previous</code></li>
                <li><code>div > .decrease</code></li>
              </ul>
            </td>
            <td>
              <ul>
                <li>Hides the SVG images used for the increase and decrease buttons from screen readers, since they are not operable by the keyboard.</li>
                <li>Hides the visible text for the next and previous values from screen readers, since the information would be confusing without any context to screen reader users.  Only the current value needs to be visible to screen readers.</li>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </section>

  <section>
    <h2>Javascript and CSS Source Code</h2>
    <ul>
      <li>
        CSS:
        <a href="css/datepicker-spinbuttons.css" type="text/css">datepicker-spinbuttons.css</a>
      </li>
      <li>
        Javascript:
        <ul>
          <li><a href="js/datepicker-spinbuttons.js" type="text/javascript">datepicker-spinbuttons.js</a></li>
          <li><a href="js/spinbutton-date.js" type="text/javascript">spinbutton-date.js</a></li>
        </ul>
      </li>
    </ul>
  </section>

 <section>
    <h2 id="sc1_label">HTML Source Code</h2>
    <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
    <pre><code id="source1"></code></pre>
    <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
    <script>
      sourceCode.add('source1', 'example');
      sourceCode.make();
    </script>
  </section>
  </main>
  <nav>
    <a href="../../#datepicker">Date Picker Design Pattern in WAI-ARIA Authoring Practices 1.1</a>
  </nav>
</body>
</html>
