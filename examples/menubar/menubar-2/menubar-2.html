<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Editor Menubar Example | WAI-ARIA Authoring Practices 1.1</title>

  <!--  Core js and css shared by all examples; do not modify when using this template. -->
  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
  <link rel="stylesheet" href="../../css/core.css">
  <script src="../../js/examples.js"></script>
  <script src="../../js/highlight.pack.js"></script>
  <script src="../../js/app.js"></script>

  <link href="css/menubarAction.css" rel="stylesheet">

  <script src="js/StyleManager.js"    type="text/javascript"></script>

  <script src="js/MenubarAction.js"       type="text/javascript"></script>
  <script src="js/MenubarItemAction.js"   type="text/javascript"></script>
  <script src="js/PopupMenuAction.js"     type="text/javascript"></script>
  <script src="js/PopupMenuItemAction.js" type="text/javascript"></script>
</head>
<body>
  <main>
  <h1>Editor Menubar Example</h1>
  <p>
    <strong>NOTE:</strong> Please provide feedback on this example in
    <a href="https://github.com/w3c/aria-practices/issues/144">issue 144.</a>
  </p>
  <p>
    The following example demonstrates using the
    <a href="../../../#menu">menubar design pattern</a>
    to provide access to sets of actions.
    Each item in this example menubar represents a category of text
    formatting commands. The formatting commands are revealed in popup menus that can be opened from
    items in the menubar. This example also demonstrates <code>menuitemradio</code> and <code>menuitemcheckbox</code> elements.
  </p>

  <p>Similar examples include: </p>
  <ul>
    <li><a href="../menubar-1/menubar-1.html">Navigation Menubar Example</a>: Example of a menubar with popup menus with navigational links.</li>
  </ul>

  <section id="code-ex-1">
    <h2 id="ex1_label">Example</h2>
    <div role="separator" id="ex1_start_sep" aria-labelledby="ex1_start_sep ex1_label" aria-label="Start of"></div>
    <div id="ex1">
      <ul id="menubar1" role="menubar" aria-label="Text Formatting">
        <li role="menuitem" aria-haspopup="true" aria-expanded="false" aria-label="Font">
          <span>Font</span>
          <ul role="menu" rel="font-family" aria-label="Font" >
            <li role="menuitemradio" aria-checked="true">Sans-serif</li>
            <li role="menuitemradio" aria-checked="false">Serif</li>
            <li role="menuitemradio" aria-checked="false">Monospace</li>
            <li role="menuitemradio" aria-checked="false">Fantasy</li>
          </ul>
        </li>
        <li role="menuitem" aria-haspopup="true" aria-expanded="false" aria-label="Style/Color">
          <span>Style/Color</span>
          <ul role="menu" aria-label="Style/Color">
            <li role="menuitemcheckbox" rel="font-bold" aria-checked="false">Bold</li>
            <li role="menuitemcheckbox" rel="font-italic" aria-checked="false">Italic</li>
            <li role="separator"></li>
            <li>
              <ul role="group" rel="font-color" aria-label="Text Color">
                <li role="menuitemradio" aria-checked="true">Black</li>
                <li role="menuitemradio" aria-checked="false">Blue</li>
                <li role="menuitemradio" aria-checked="false">Red</li>
                <li role="menuitemradio" aria-checked="false">Green</li>
              </ul>
            <li role="separator"></li>
            <li>
              <ul role="group" rel="text-decoration" aria-label="Text Decoration">
                <li role="menuitemradio" aria-checked="true">None</li>
                <li role="menuitemradio" aria-checked="false">Overline</li>
                <li role="menuitemradio" aria-checked="false">Line-through</li>
                <li role="menuitemradio" aria-checked="false">Underline</li>
              </ul>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" aria-label="Text Align">
          <span>Text Align</span>
          <ul role="menu" rel="text-align" aria-label="Text Align">
            <li role="menuitemradio" aria-checked="true">Left</li>
            <li role="menuitemradio" aria-checked="false">Center</li>
            <li role="menuitemradio" aria-checked="false">Right</li>
            <li role="menuitemradio" aria-checked="false">Justify</li>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" aria-label="Size">
          <span>Size</span>
          <ul role="menu" aria-label="Size" >
            <li role="menuitem" rel="font-smaller">Smaller</li>
            <li role="menuitem" rel="font-larger">Larger</li>
            <li role="separator"></li>
            <li>
              <ul role="group" rel="font-size" aria-label="Font Sizes">
                <li role="menuitemradio" aria-checked="false">X-Small</li>
                <li role="menuitemradio" aria-checked="false">Small</li>
                <li role="menuitemradio" aria-checked="true">Medium</li>
                <li role="menuitemradio" aria-checked="false">Large</li>
                <li role="menuitemradio" aria-checked="false">X-Large</li>
              </ul>
          </ul>
        </li>
      </ul>

      <label for="textarea1" class="hidden">Text Sample</label><br>
      <textarea id="textarea1" rows="20" cols="80"
        style="font-size: medium; font-family: sans-serif"
      >
          Four score and seven years ago our fathers brought forth on this continent a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal.

          Now we are engaged in a great civil war, testing whether that nation, or any nation, so conceived and so dedicated, can long endure. We are met on a great battle-field of that war. We have come to dedicate a portion of that field, as a final resting place for those who here gave their lives that that nation might live. It is altogether fitting and proper that we should do this.

          But, in a larger sense, we can not dedicate, we can not consecrate, we can not hallow, this ground. The brave men, living and dead, who struggled here, have consecrated it, far above our poor power to add or detract. The world will little note, nor long remember what we say here, but it can never forget what they did here. It is for us the living, rather, to be dedicated here to the unfinished work which they who fought here have thus far so nobly advanced. It is rather for us to be here dedicated to the great task remaining before us, that from these honored dead we take increased devotion to that cause for which they gave the last full measure of devotion, that we here highly resolve that these dead shall not have died in vain, that this nation, under God, shall have a new birth of freedom, and that government of the people, by the people, for the people, shall not perish from the earth.
          </textarea>
      <p>
        <a href="http://en.wikipedia.org/wiki/Gettysburg,_Pennsylvania">More information on
          Gettysburg Address</a>
      </p>
      <script type="text/javascript">
          var menubar      = new MenubarAction(document.getElementById('menubar1'));
          var styleManager = new StyleManager('textarea1');
          menubar.init(styleManager);
      </script>


    </div>
    <div role="separator" id="ex1_end_sep" aria-labelledby="ex1_end_sep ex1_label" aria-label="End of" ></div>
    <h4>Notes</h4>
    <ol>
      <li>Menu radio buttons and checkboxes indicate the current format settings.</li>
      <li>Disabled menu items are demonstrated in the font size menu, which  includes two disabled menuitems        .</li>
      <li>CSS <code>:after</code> is used to render the down arrow in a menubar item using the CSS <code>content</code> property string using entity values.</li>
      <li>CSS <code>:before</code> is used to render checks using the CSS <code>content</code> property string using entity values on <code>menuritemadio</code> and <code>menuitemcheckbox</code> items.</li>
    </ol>
  </section>

  <section>
    <h2 id="kbd_label">Keyboard Support</h2>

    <h3 id="kbd1_label">Menubar</h3>
    <table aria-labelledby="kbd1_label kbd_label" class="def">
      <thead>
        <tr>
          <th>Key</th>
          <th>Function</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>
            <kbd>Space or Enter</kbd>
          </th>
          <td>Opens popup menu and places focus on the first item in the popup.</td>
        </tr>
        <tr>
          <th>
            <kbd>Right Arrow</kbd>
          </th>
          <td>
            <ul>
              <li>Moves focus to the next item in the menubar.</li>
              <li>If focus is on the last item, moves focus to the first item.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Left Arrow</kbd>
          </th>
          <td>
            <ul>
              <li>Moves focus to the previous item in the menubar.</li>
              <li>If focus is on the first item, moves focus to the last item.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Down Arrow</kbd>
          </th>
          <td>Opens popup menu and places focus on the first item in the popup.</td>
        </tr>
        <tr>
          <th>
            <kbd>Up Arrow</kbd>
          </th>
          <td>Opens popup menu and places focus on the last item in the popup.</td>
        </tr>
        <tr>
          <th>
            <kbd>Home</kbd>
          </th>
          <td>Moves focus to first item in the menubar.</td>
        </tr>
        <tr>
          <th>
            <kbd>End</kbd>
          </th>
          <td>Moves focus to last item in the menubar.</td>
        </tr>
        <tr>
          <th>
            <kbd>Character</kbd>
          </th>
          <td>
            <ul>
              <li>Moves focus to next item in the menubar having a name that starts with the typed character.</li>
              <li>If none of the items have a name starting with the typed character, focus does not move.</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="kbd2_label">Popup</h3>
    <table aria-labelledby="kbd2_label kbd_label" class="def">
      <thead>
        <tr>
          <th>Key</th>
          <th>Function</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>
            <kbd>Space or Enter</kbd>
          </th>
          <td>Executes action or command, e.g., bolds text, change font.</td>
        </tr>
        <tr>
          <th>
            <kbd>Escape</kbd>
          </th>
          <td>
            <ul>
              <li>Closes popup menu.</li>
              <li>Places focus on parent menubar item.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Right Arrow</kbd>
          </th>
          <td>
            <ul>
              <li>Closes popup menu.</li>
              <li>Moves focus to next item in the menubar.</li>
              <li>Opens popup menu for newly focused item, leaving focus in the menubar.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Left Arrow</kbd>
          </th>
          <td>
            <ul>
              <li>Closes popup menu.</li>
              <li>Moves focus to previous item in the menubar.</li>
              <li>Opens popup menu for newly focused item, leaving focus in the menubar.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Down Arrow</kbd>
          </th>
          <td>
            <ul>
              <li>Moves focus to the next item in the popup.</li>
              <li>If focus is on the last item, moves focus to the first item.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Up Arrow</kbd>
          </th>
          <td>
            <ul>
              <li>Moves focus to previous item in the popup.</li>
              <li>If focus is on the first item, moves focus to the last item.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>
            <kbd>Home</kbd>
          </th>
          <td>Moves focus to the first item in the popup.</td>
        </tr>
        <tr>
          <th>
            <kbd>End</kbd>
          </th>
          <td>Moves focus to the last item in the popup.</td>
        </tr>
        <tr>
          <th>
            <kbd>Character</kbd>
          </th>
          <td>
            <ul>
              <li>Moves focus to the next item having a name that starts with the typed character.</li>
              <li>If none of the items have a name starting with the typed character, focus does not move.</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    </section>

    <section>
      <h2 id="rps_label">Role, Property, State, and Tabindex Attributes</h2>

      <h3 id="rps1_label">Menubar</h3>
      <table aria-labelledby="rps1_label rps_label" class="data attributes">
        <thead>
          <tr>
            <th scope="col">Role</th>
            <th scope="col">Attribute</th>
            <th scope="col">Element</th>
            <th scope="col">Usage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">
              <code>menubar</code>
            </th>
            <td></td>
            <td>
              <code>ul</code>
            </td>
            <td>
              <ul>
                <li>
                  Identifies the <code>ul</code> element as a container for set of <code>menuitem</code> widgets associated with the menubar.
                </li>
                <li>
                  Is not focusable because focus is managed using <a href="../../../#kbd_roving_tabindex">roving tabindex</a>,
                </li>
              </ul>
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>aria-label=&quot;<em>string</em>&quot;
              </code>
            </th>
            <td>
              <code>ul</code>
            </td>
            <td>
              <ul>
                <li>
                  Defines an acessible name for the <code>menubar</code>.
                </li>
                <li>Helps assistive technology users understand the purpose of the menubar and
                  distinguish it from any other menubars or similar elements on the page.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <th scope="row">
              <code>menuitem</code>
            </th>
            <td></td>
            <td>
              <code>li</code>
            </td>
            <td>
              Identifies the <code>li</code> element as a menu item within the menubar widget.
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>aria-label=&quot;<em>string</em>&quot;</code>
            </th>
            <td>
              <code>li</code>
            </td>
            <td>
              <ul>
                <li>Defines an acessible name for the <code>menuitem</code>.</li>
                <li>Overrides browser calculation of accessible name from inner text of all descendants, which includes all the popup menu item names.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>tabindex=&quot;-1&quot;</code>
            </th>
            <td>
              <code>li</code>
            </td>
            <td>
              Makes the <code>menuitem</code> element keyboard focusable but
              <strong>not</strong> part of the <kbd>Tab</kbd> sequence of the page.
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>tabindex=&quot;0&quot;</code>
            </th>
            <td>
              <code>li</code>
            </td>
            <td>
              <ul>
                <li>
                  Makes the <code>menuitem</code> element keyboard focusable and
                  part of the <kbd>tab</kbd> sequence of the page.
                </li>
                <li>
                  Only one <code>menuitem</code> in the <code>menubar</code> has <code>tabindex=&quot;0&quot;</code>.
                </li>
                <li>
                  When the page loads, the first item in the menubar has <code>tabindex=&quot;0&quot;</code>.
                </li>
                <li>
                  Focus is managed using <a href="../../../#kbd_roving_tabindex">roving tabindex</a>,
                  so the most recently focused item will be in the page <kbd>Tab</kbd> sequence.
                </li>
              </ul>
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>aria-haspopup=&quot;true&quot;</code>
            </th>
            <td>
              <code>li</code>
            </td>
            <td>
              Identifies the <code>menuitem</code> as having a child popup menu.
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>aria-expanded=&quot;true&quot;</code>
            </th>
            <td>
              <code>li</code>
            </td>
            <td>
              Indicates the child popup menu is open.
            </td>
          </tr>
          <tr>
            <td></td>
            <th scope="row">
              <code>aria-expanded=&quot;false&quot;</code>
            </th>
            <td>
              <code>li</code>
            </td>
            <td>
              Indicates the child popup menu is closed.
            </td>
          </tr>
        </tbody>
      </table>

      <h3 id="rps2_label">Popup Menu</h3>
      <table aria-labelledby="rps2_label rps_label" class="data attributes">
      <thead>
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Attribute</th>
          <th scope="col">Element</th>
          <th scope="col">Usage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">
            <code>menu</code>
          </th>
          <td></td>
          <td>
            <code>ul</code>
          </td>
          <td>
            <ul>
              <li>
                Identifies the <code>ul</code> element as a container for set of <code>menuitem</code> widgets associated with the menu.
              </li>
              <li>
                Is not focusable because focus is managed using <a href="../../../#kbd_roving_tabindex">roving tabindex</a>,
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-label=&quot;<em>string</em>&quot;</code>
          </th>
          <td>
            <code>ul</code>
          </td>
          <td>
            Defines an acessible name for the <code>menu</code>.
          </td>
        </tr>
        <tr>
          <th scope="row">
            <code>menuitem</code>
          </th>
          <td></td>
          <td>
            <code>li</code>
          </td>
          <td>
            Identifies the <code>li</code> element as a menu item in the popup menu.
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>tabindex=&quot;-1&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            Makes the item focusable but <strong>not</strong> part of the page <kbd>tab</kbd> sequence.
          </td>
        </tr>
        <tr>
          <th scope="row">
            <code>menuitemcheckbox</code>
          </th>
          <td></td>
          <td>
            <code>li</code>
          </td>
          <td>
            Identifies the <code>li</code> element as a menuitemcheckbox widget.
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>tabindex=&quot;-1&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            Makes the menuitemcheckbox focusable but <strong>not</strong> part of the page <kbd>tab</kbd> sequence.
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-checked=&quot;true&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            <ul>
              <li>
                Indicates that the <code>menuitemcheckbox</code> is checked.
              </li>
              <li>
                The visual state of the selection is synchronized with the <code>aria-checked</code>
                value using CSS attribute selectors, e.g., [aria-checked=&quot;true&quot;],
                 the CSS pseudo selector <code>:before</code>,
                 and the <code>content</code> property.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-checked=&quot;false&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            <ul>
              <li>
                Indicates that the <code>menuitemcheckbox</code> is <strong>NOT</strong> checked.
              </li>
              <li>
                The visual state of the selection is synchronized with the <code>aria-checked</code>
                value using CSS attribute selectors, e.g., [aria-checked=&quot;true&quot;],
                 the CSS pseudo selector <code>:before</code>,
                 and the <code>content</code> property.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <th scope="row">
            <code>group</code>
          </th>
          <td></td>
          <td>
            <code>ul</code>
          </td>
          <td>
            <ul>
              <li>
                Identifies the <code>ul</code> element as a container for a set of <code>menuitemradio</code> widgets.
              </li>
              <li>
                Enables browsers to compute values of <code>aria-setsize</code> and <code>aria-posinset</code>.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <th scope="row">
            <code>menuitemradio</code>
          </th>
          <td></td>
          <td>
            <code>li</code>
          </td>
          <td>
            <ul>
              <li>
                Identifies the <code>li</code> element as a <code>menuitemradio</code> widget.
              </li>
              <li>
                In this example the menuitemradio group is defined by either <code>ul[role=&quot;menu&quot;]</code>
                or <code>[role=&quot;group&quot;]</code>.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>tabindex=&quot;-1&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            Makes the menuitemradio focusable but <strong>not</strong> part of the page <kbd>tab</kbd> sequence.
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-checked=&quot;true&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            <ul>
              <li>
                Indicates the  <code>menuitemradio</code> is checked.
              </li>
              <li>
                The visual state of the selection is synchronized with the <code>aria-checked</code>
                value using CSS attribute selectors, e.g., [aria-checked=&quot;true&quot;],
                 the CSS pseudo selector <code>:before</code>,
                 and the <code>content</code> property.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-checked=&quot;false&quot;</code>
          </th>
          <td>
            <code>li</code>
          </td>
          <td>
            <ul>
              <li>
                Indicates that  the <code>menuitemradio</code> is <strong>NOT</strong> checked.
              </li>
              <li>
                The visual state of the selection is synchronized with the <code>aria-checked</code>
                value using CSS attribute selectors, e.g., [aria-checked=&quot;true&quot;],
                 the CSS pseudo selector <code>:before</code>,
                 and the <code>content</code> property.
              </li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Javascript and CSS Source Code</h2>
    <ul>
      <li>
        CSS:
        <a href="css/menubarAction.css" type="tex/css">menubarAction.css</a>
      </li>
      <li>
        Javascript: <a href="js/MenubarAction.js" type="text/javascript">MenubarAction.js</a>
      </li>
      <li>
        Javascript: <a href="js/MenubarItemAction.js" type="text/javascript">MenubarItemAction.js</a>
      </li>
      <li>
        Javascript: <a href="js/PopupMenuAction.js" type="text/javascript">PopupMenuAction.js</a>
      </li>
      <li>
        Javascript: <a href="js/MenuItemAction.js" type="text/javascript">MenuItemAction.js</a>
      </li>
      <li>
            Javascript: <a href="js/TextStyling.js" type="text/javascript">TextStyling.js</a>
      </li>
    </ul>
  </section>

  <section>
    <h2 id="sc1_label">HTML Source Code</h2>
    <div id="sc1_start_sep" role="separator" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of" ></div>
    <pre><code id="sc1"></code></pre>
    <div id="sc1_end_sep" role="separator" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of" ></div>
    <script>
sourceCode.add('sc1', 'ex1');
</script>
    <!--  After all source has been added, run make to do the insert.  -->
    <script>
sourceCode.make();
</script>
  </section>
  </main>
  <nav>
    <a href="../../../#menu">Menu or Menubar Design Pattern in WAI-ARIA Authoring Practices 1.1</a>
  </nav>

</body>
</html>
