<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Switch Example | WAI-ARIA Authoring Practices 1.2</title>

  <!--  Core js and css shared by all examples; do not modify when using this template. -->
  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
  <link rel="stylesheet" href="../css/core.css">
  <script src="../js/examples.js"></script>
  <script src="../js/highlight.pack.js"></script>
  <script src="../js/app.js"></script>

  <!--  js and css for this example. -->
  <link href="css/switch.css" rel="stylesheet">
  <script src="js/switch.js" type="text/javascript"></script>
</head>
<body>
  <nav aria-label="Related Links" class="feedback">
    <ul>
      <li><a href="../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
      <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
      <li><a href="https://github.com/w3c/aria-practices/projects/2">Related Issues</a></li>
      <li><a href="../../#switch">Design Pattern</a></li>
    </ul>
  </nav>
  <main>
  <h1>Switch Example</h1>
  <p>
    This example implements the <a href="../../#switch">Switch design pattern</a> using <code>div</code> elements.  Switches are similar to checkboxes, but should be rendered by assistive technologies as "on" and "off", instead of "checked" and "unchecked".
  </p>
  <p>Similar examples include: </p>
  <ul>
    <li><a href="switch-button.html">Switch example using the <code>button</code> element.</a></li>
    <li><a href="switch-checkbox.html">Switch example using the <code>input[type=checkbox]</code> element.</a>.</li>
  </ul>

  <section>
    <h2 id="ex_label">Example</h2>
    <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
    <div id="ex1">
      <div role="group" aria-labelledby="id-group-label">
        <h3 id="id-group-label" >Notifications</h3>
        <div
          role="switch"
          aria-checked="false"
          tabindex="0">
          <span class="label">E-mail</span>
          <span class="switch"><span></span></span>
        </div>

        <div
          role="switch"
          aria-checked="false"
          tabindex="0">
          <span class="label">Text Message</span>
          <span class="switch"><span></span></span>
        </div>
      </div>
    </div>
    <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
  </section>

  <section>
    <section>
      <h2>Accessibility Features</h2>
      <ul>
        <li>To help assistive technology users understand that the notification options are made of a group of two switches, the switches are wrapped in a <code>group</code> labeled by the heading that labels the notification options.</li>
        <li>To provide a visual indication the labels can also be used to change the state of a switch, the background color is changed and a border appears when the pointer moves over the switch or the label.</li>
        <li>The text value (i.e. on or off) of the state of the switch is placed after the graphical rendering of the state to make it easier for users with visual or cognitive impairments to understand the current state of the switch.</li>
        <li>The graphical rendering of the switch state uses 2 pixel borders for the container, and a 2 pixel border on the circle indicating the on and off position of the switch.  There is 2 pixels of space between the container border and the border of the circle.  The use of spacing and borders insures the graphic will be visible and discernible in high contrast modes used by people with visual impairments.
        </li>
        <li>Because transparent borders are visible on some systems with operating system high contrast settings enabled, transparency cannot be used to create a visual difference between the element that is focused an other elements. Instead of using transparency, the focused element has a thicker border and less padding. When an element receives focus, its border changes from 0 to 2 pixels and padding is reduced by 2 pixels. When an element loses focus, its border changes from 2 pixels to 0 and padding is increased by 2 pixels.</li>
        <li>To provide a visual indication the labels can also be used to change the state of a switch, the background color is changed when the pointer moves over the switch or the label.</li>
      </ul>
    </section>
  </section>

  <section>
    <h2 id="kbd_label">Keyboard Support</h2>
    <table aria-labelledby="kbd_label" class="def">
      <thead>
        <tr>
          <th>Key</th>
          <th>Function</th>
        </tr>
      </thead>
      <tbody>
      <tr data-test-id="key-tab">
        <th><kbd>Tab</kbd></th>
        <td>
          <ul>
            <li>Moves keyboard focus to the <code>switch</code>.</li>
          </ul>
        </td>
      </tr>
      <tr data-test-id="key-space">
          <th><kbd>Space</kbd>, <kbd>Enter</kbd></th>
          <td>
            <ul>
              <li>Toggle switch between checked and unchecked.</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>
    <table aria-labelledby="rps_label" class="data attributes">
      <thead>
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Attribute</th>
          <th scope="col">Element</th>
          <th scope="col">Usage</th>
        </tr>
      </thead>
      <tbody>
          <tr data-test-id="h3">
            <th scope="row"></th>
            <td></td>
            <td><code>h3</code></td>
            <td>
              <ul>
                <li>Provides a grouping label for the group of switches.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="group-role">
            <th scope="row"><code>group</code></th>
            <td></td>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>Identifies the <code>div</code> element as a <code>group</code> container for the switches.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="group-aria-labelledby">
            <th scope="row"></th>
            <td><code>aria-labelledby</code></td>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>The <code>aria-labelledby</code> attribute references the <code>id</code> attribute of the <code>h3</code> element to define the accessible name for the group of switches.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="switch-role">
            <th scope="row"><code>switch</code></th>
            <td></td>
            <td><code>div</code></td>
            <td>
              <ul>
                <li>The <code>role=&quot;switch&quot;</code> attribute identifies the <code>div</code> element as an ARIA <code>switch</code>.</li>
                <li>The <code>switch</code> widget needs a <code>tabindex=&quot;0&quot;</code> value.</li>
              </ul>
            </td>
          </tr>
          <tr data-test-id="switch-tabindex">
            <td></td>
            <th scope="row"><code>tabindex=&quot;0&quot;</code></th>
            <td><code>div</code></td>
            <td>
                <ul>
                  <li>The <code>div[&quot;switch&quot;]</code> is identified as an interactive element and is added to the tab order of the page by setting the <code>tabindex=&quot;0&quot;</code>.</li>
                  </ul>
            </td>
          </tr>
          <tr data-test-id="switch-aria-checked">
            <td></td>
            <th scope="row"><code>aria-checked=&quot;false&quot;</code></th>
            <td><code>div</code></td>
            <td>
                <ul>
                  <li>Identifies the <code>switch</code> button as unchecked.</li>
                  <li>CSS attribute selectors (e.g. <code>[aria-checked=&quot;false&quot;]</code>) are used to synchronize the visual states with the value of the <code>aria-checked</code> attribute.</li>
                </ul>
            </td>
          </tr>
          <tr data-test-id="switch-aria-checked">
            <td></td>
            <th scope="row"><code>aria-checked=&quot;true&quot;</code></th>
            <td><code>div</code></td>
            <td>
                <ul>
                  <li>Identified the <code>switch</code> as checked.</li>
                  <li>CSS attribute selectors (e.g. <code>[aria-checked=&quot;true&quot;]</code>) are used to synchronize the visual states with the value of the <code>aria-checked</code> attribute.</li>
                </ul>
            </td>
          </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Javascript and CSS Source Code</h2>
    <!--  After the js and css files are named with the name of this example, change the href and text of the following 2 links to refer to the appropriate js and css files.  -->
    <ul>
      <li>
        CSS:
        <a href="css/switch.css" type="tex/css">switch.css</a>
      </li>
      <li>
        Javascript:
        <a href="js/switch.js" type="text/javascript">switch.js</a>
      </li>
    </ul>
  </section>

  <section>
    <h2 id="sc1_label">HTML Source Code</h2>
    <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
    <pre><code id="sc1"></code></pre>
    <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
    <!--
      The following script will show the reader the HTML source for the example that is in the div with ID 'ex1'.
      It renders the HTML in the preceding pre element with ID 'sc1'.
      If you change the ID of either the 'ex1' div or the 'sc1' pre, be sure to update the sourceCode.add function parameters.
      -->
    <script>
      sourceCode.add('sc1', 'ex1');
      sourceCode.make();
    </script>
  </section>
  </main>
  <nav>
    <!--  Update the pattern_ID parameter of this link to refer to the APG design pattern section related to this example.  -->
    <a href="../../#switch">Switch Design Pattern in WAI-ARIA Authoring Practices 1.2</a>
  </nav>
</body>
</html>
