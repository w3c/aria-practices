<!DOCTYPE html>
<html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Menu Button Example: Links | WAI-ARIA Authoring Practices 1.1</title>

    <!--  Core js and css shared by all examples; do not modify when using this template. -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../css/core.css">
    <script src="../js/examples.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script src="../js/app.js"></script>

    <link href="css/MenubuttonLinks.css" rel="stylesheet">

    <script src="js/Menubutton2.js" type="text/javascript"></script>
    <script src="js/PopupMenuLinks.js" type="text/javascript"></script>
    <script src="js/MenuItemLinks.js" type="text/javascript"></script>
  </head>
  <body>
    <main>
      <h1>Navigation Menu Button Example</h1>
      <p>
        This example implements the <a href="../../../#menubutton">menu button design pattern</a>
        for a button that provides access to a menu of link targets.
      An ARIA menu button is defined as any element with <code>role=&quot;button&quot;</code> with an <code>aria-haspopup=&quot;true&quot;</code>.
      In this example the default role of link for the <code>a</code> element is overridden using <code>role="button"</code> to define the menu button.  It is also important to note in the popup menu that the <code>role=menuitem</code> is on the
      <code>a</code> element and not the <code>li</code> element, since a <code>menuitem</code> widget cannot contain any intereactive elements (e.g links).</p>
      <p>Similar examples include: </p>
      <ul>
        <li><a href="../menu-button-1/menu-button-1.html">Action Menu Button</a>: The popup menu items can be used to activate actions in a web application.</li>
      </ul>
      <section>
        <h2 id="ex_label">Example</h2>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
          <div id="ex1">
            <div class="menu_button">
              <a
                id="menubutton"
                role="button"
                href="#"
                aria-haspopup="true"
                aria-expanded="false"
                aria-controls="menu2"
                >
                WAI-ARIA Quick Links
              </a>

              <ul id="menu2" role="menu" aria-labelledby="menubutton">
                <li role="none">
                  <a role="menuitem" href="https://www.w3.org/">
                    W3C Home Page
                  </a>
                </li>
                <li role="none">
                  <a role="menuitem" href="https://www.w3.org/standards/webdesign/accessibility">
                    W3C Web Accessibility Initiative
                  </a>
                </li>
                <li role="none">
                  <a role="menuitem" href="https://www.w3.org/TR/wai-aria/">
                    Accessible Rich Internet Application Specification
                  </a>
                </li>
                <li role="none">
                  <a role="menuitem" href="https://www.w3.org/TR/wai-aria-practices/">
                    WAI-ARIA Authoring Practices
                  </a>
                </li>
                <li role="none">
                  <a role="menuitem" href="https://www.w3.org/TR/wai-aria-implementation/">
                    WAI-ARIA Implementation Guide
                  </a>
                </li>
                <li role="none">
                  <a role="menuitem" href="https://www.w3.org/TR/accname-aam-1.1/">
                    Accessible Name and Description
                  </a>
                </li>
              </ul>

              <script type="text/javascript">

                window.onload=function() {
                var menubutton = new Menubutton(document.getElementById('menubutton'));
                menubutton.init();
              }

              </script>
            </div>
          </div>
        </div>

        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>

      </section>

      <section>
        <h2 id="kbd_label">Keyboard Support</h2>

        <h3 id="kbd1_label">Menu Button</h3>

        <table aria-labelledby="kbd1_label kbd_label" class="def">
          <thead>
            <tr>
              <th>Key</th>
              <th>Function</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th><kbd>Down Arrow, <br/>Space, <br/>or Enter</kbd></th>
              <td>Open <code>menu</code> and move focus to first <code>menuitem</code></td>
            </tr>
            <tr>
              <th><kbd>Up Arrow</kbd></th>
              <td>Open <code>menu</code> and move focus to previous <code>menuitem</code></td>
            </tr>
          </tbody>
        </table>

         <h3 id="kbd2_label" class="widget">Popup Menu</h3>

        <table aria-labelledby="kbd2_label kbd_label" class="def">
          <thead>
            <tr>
              <th style="min-width: 8em">Key</th>
              <th>Function</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th><kbd>Space or Enter</kbd></th>
              <td>
                <ul>
                  <li>Activates the link asociated with the <code>menuitem</code>.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>Escape</kbd></th>
              <td>
                <ul>
                  <li>Closes popup menu.</li>
                  <li>Moves focus to button menu.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>Up Arrow</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to previous popup menu item.</li>
                  <li>If first popup menu item, focus is moved to the last popup menu item.</li>
                </ul>
              </td>
            </tr>
             <tr>
              <th><kbd>Down Arrow</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to next popup menu item.</li>
                  <li>If last popup menu item, focus is moved to the first popup menu item.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>Home</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to first popup menu item.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>End</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to last popup menu item.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th><kbd>A-Z, a-z</kbd></th>
              <td>
                <ul>
                  <li>Moves focus to the next popup item that starts with that letter.</li>
                  <li>If no popup menu item starts with the letter, focus does not move.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

     <section>
        <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>

        <h3 id="rps1_label">Menu Button Widget</h3>

        <table aria-labelledby="rps1_label rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">Role</th>
              <th scope="col">Attribute</th>
              <th scope="col">Element</th>
              <th scope="col">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">
                <code>button</code>
              </th>
              <td></td>
              <td>
                <code>a</code>
              </td>
              <td>
                <ul>
                  <li>The <code>role=&quot;button&quot;</code> overrides the default role of <code>link</code> for an <code>a</code> element and identifies the element as a ARIA <code>buton</code> widget.</li>
                  <li>The accessible name comes from the child text content of the <code>a</code> element (e.g. &quot;WAI-ARIA Quick Links&quot;).</li>
                  <li>The <code>a[href=&quot;#&quot;]</code> element is a part of the default tab order of the page, so <em>no</em> need to set <code>tabindex</code>.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>
                <code></code>
              </td>
              <th scope="row"><code>href=&quot;#&quot;</code></th>
              <td>
                <code>a</code>
              </td>
              <td>
                <ul>
                  <li>Setting <code>href=&quot;#&quot;</code> will insure the <code>a</code> element will be part of the default tab order of the page.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>
                <code></code>
              </td>
              <th scope="row"><code>aria-haspopup=&quot;true&quot;</code></th>
              <td>
                <code>a</code>
              </td>
              <td>
                <ul>
                  <li>The <code>aria-haspopup</code> attribute defines an element with <code>role=button</code> as a ARIA menu button design pattern and indicates the actions of the button are to open and close the popup menu.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>
                <code></code>
              </td>
              <th scope="row"><code>aria-controls=&quot;IDREF&quot;</code></th>
              <td>
                <code>a</code>
              </td>
              <td>
                <ul>
                  <li>The <code>aria-controls</code> attribute serves as a pointer to the the popup menu that is controlled by the menu button.</li>
                </ul>
              </td>
            </tr>
            <tr>
                <td></td>
                <th scope="row"><code>aria-expanded=&quot;true&quot;</code></th>
                <td><code>a</code></td>
                <td>
                  <ul>
                    <li>Indicates popup menu is open.</li>
                  </ul>
                </td>
            </tr>
            <tr>
                <td></td>
                <th scope="row"><code>aria-expanded=&quot;false&quot;</code></th>
                <td><code>a</code></td>
                <td>
                  <ul>
                    <li>Indicates popup menu is closed.</li>
                  </ul>
                </td>
            </tr>
          </tbody>
        </table>

        <h3 id="rps2_label">Popup Menu Widget</h3>

        <table aria-labelledby="rps2_label rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">Role</th>
              <th scope="col">Attribute</th>
              <th scope="col">Element</th>
              <th scope="col">Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">
                <code>menu</code>
              </th>
              <td></td>
              <td>
                <code>ul</code>
              </td>
              <td>
                <ul>
                  <li>The <code>role=&quot;menu&quot;</code> attribute identifies the <code>ul</code> element as an ARIA <code>menu</code> widget.</li>
                  <li>Accessible name for the <code>menu</code> widget comes from <code>aria-labelledby</code> attribute.</li>
                  <li>The <code>menu</code> widget does not need a <code>tabindex</code> value, since the <code>ul[role&quot;menu&quot;]</code> element never receives keyboard focus.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <code></code>
              </th>
              <td><code>aria-labelledby=&quot;[IDREF]&quot;</code></td>
              <td>
                <code>ul</code>
              </td>
              <td>
                <ul>
                  <li>Pointer to element with the corresponding <code>id=&quot;[IDREF]&quot;</code> that defines the accessible name for the <code>menu</code>, in this example &quot;Actions&quot;.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <code>menuitem</code>
              </th>
              <td></td>
              <td>
                <code>a</code>
              </td>
              <td>
                <ul>
                  <li>The <code>role=&quot;menuitem&quot;</code> attribute overrides the default <code>link</code> role of the <code>a</code> element.</li>
                  <li>Accessible name for the <code>menuitem</code> widget comes from child text content of the <code>a</code> element.</li>
                  <li>The <code>menuitem</code> widget has <code>tabindex=&quot;-1&quot;</code>.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>
                <code></code>
              </td>
              <th scope="row"><code>tabindex=&quot;-1&quot;</code></th>
              <td>
                <code>a</code>
              </td>
              <td>
                <ul>
                  <li>Identifies the link (e.g. <code>a[role=menuitem]</code>) as an interactive element on the page, but removes the link from the tab order of the page.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <code>none</code>
              </th>
              <td></td>
              <td>
                <code>li</code>
              </td>
              <td>
                <ul>
                  <li>Hides <code>li</code> element native role semantics of <code>listiem</code> from assistive technologies.</li>
                  <li>If native role semantics of the <code>li</code> element are not removed, it could confuse some users of assistive technologies since listitems and menuitems would be interspersed with each other.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>

      </section>

      <section>
        <h2>Javascript and CSS Source Code</h2>

        <ul>
          <li>CSS: <a href="css/menubuttonLinks.css" type="text/css">MenubuttonLinks.css</a></li>
          <li>Javascript: <a href="js/Menubutton.js" type="text/javascript">Menubutton.js</a></li>
          <li>Javascript: <a href="js/MenuItemLinks.js" type="text/javascript">MenuItemLinks.js</a></li>
          <li>Javascript: <a href="js/PopupMenuLinks.js" type="text/javascript">PopupMenuLinks.js</a></li>
        </ul>
      </section>
      <section>
        <h2 id="sc1_label">HTML Source Code</h2>
        <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
        <pre><code id="sc1"></code></pre>
        <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
        <!--
          The following script will show the reader the HTML source for the example that is in the div with ID 'ex1'.
          It renders the HTML in the preceding div with ID 'sc1'.
          If you change the ID of either the 'ex1' div or the 'sc1' div, be sure to update the sourceCode.add function parameters.
          -->
        <script>
          sourceCode.add('sc1', 'ex1');
          sourceCode.make();
        </script>
      </section>
    </main>
    <nav>
      <a href="../../../#menubutton">Menu Button Design Pattern in WAI-ARIA Authoring Practices 1.1</a>
    </nav>
  </body>
</html>
