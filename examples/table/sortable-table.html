<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Sortable Table Example | WAI-ARIA Authoring Practices 1.2</title>

<!--  Core js and css shared by all examples; do not modify when using this template. -->
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
<link rel="stylesheet" href="../css/core.css">
<script src="../js/examples.js"></script>
<script src="../js/highlight.pack.js"></script>
<script src="../js/app.js"></script>

<!-- css for this example. -->
<link href="css/sortable-table.css" rel="stylesheet">

<!--  js for this example -->
<script src="js/sortable-table.js"></script>

</head>
<body>
  <nav aria-label="Related Links" class="feedback">
    <ul>
      <li><a href="../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
      <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
      <li><a href="https://github.com/w3c/aria-practices/projects/16">Related Issues</a></li>
      <li><a href="../../#table">Design Pattern</a></li>
    </ul>
  </nav>
  <main>
  <h1>Sortable Table Example</h1>
  <p>
    The example below illustrates an implementation of the WAI-ARIA
    <a href="../../#table">table design pattern</a> for a table with sortable rows.  The example uses HTML table markup to represent the header and data cells of the table.  The <code>aria-sort</code> attribute is added to the column header of column data used to sort the table.  A <code>button</code> element in the each sortable column header is used to change the sorting column and order.  The data values in the columns are either all text or all numbers.  and a class name is used to indicate (e.g &quot;num&quot;) which columns should be sorted as a number value.  One column (e.g. &quot;address&quot;) in the example table cannot be used to sort the table.
  </p>
  <p>Similar examples include: </p>
  <ul>
    <li>
      <a href="table.html">Table Example</a>: Example implementation of using .
    </li>
    <li><a href="../grid/LayoutGrids.html">Layout Grid Examples</a>: Three example implementations of grids that are used to lay out widgets, including a collection of navigation links, a message recipients list, and a set of search results.</li>
    <li><a href="../grid/dataGrids.html">Data Grid Examples</a>: Three example implementations of grid that include features relevant to presenting tabular information, such as content editing, sort, and column hiding.</li>
    <li><a href="../grid/advancedDataGrid.html">Advanced Data Grid Example</a>: Example of a grid with behaviors and features similar to a typical spreadsheet, including cell and row selection.</li>
  </ul>

  <section>
    <div class="example-header">
      <h2 id="ex_label">Example</h2>
    </div>
    <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
    <div id="ex1">
      <table class="sortable">
        <caption>Students currently enrolled in WAI-ARIA 101</caption>
        <thead>
          <tr>
            <th>
              <button aria-label="Sort First Name column in descending order">
                First Name
                <span></span>
              </button>
            </th>
            <th aria-sort="ascending">
              <button aria-label="Sort Last Name column in descending order">
                Last Name
                <span></span>
              </button>
            </th>
            <th>
              <button aria-label="Sort Company column in descending order">
                Company
                <span></span>
              </button>
            </th>
            <th>Address</th>
            <th class="num">
              <button aria-label="Sort Favorite Number column in descending order">
                Favorite Number
                <span></span>
              </button>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td role="cell">Fred</td>
            <td role="cell">Jackson</td>
            <td role="cell">Canary, Inc.</td>
            <td role="cell">123 Broad St.</td>
            <td role="cell" class="num">56</td>
          </tr>
          <tr>
            <td role="cell">Sara</td>
            <td role="cell">James</td>
            <td role="cell">Cardinal, Inc.</td>
            <td role="cell">457 First St.</td>
            <td role="cell" class="num">7</td>
          </tr>
          <tr>
            <td role="cell">Ralph</td>
            <td role="cell">Jefferson</td>
            <td role="cell">Robin, Inc.</td>
            <td role="cell">456 Main St.</td>
            <td role="cell" class="num">513</td>
          </tr>
          <tr>
            <td role="cell">Nancy</td>
            <td role="cell">Jensen</td>
            <td role="cell">Eagle, Inc.</td>
            <td role="cell">2203 Logan Dr.</td>
            <td role="cell" class="num">3.5</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
  </section>

  <section>
    <h2>Accessibility Features</h2>
    <ul>
      <li>
        HTML table markup is used to for the table and to identify the column headers.<br/>
        NOTE: The <code>thead</code> and <code>tbody</code> elements separate the header rows from the sortable data rows to reduce the complexity of the sorting script.
      </li>
      <li>
        Uses CSS <code>:hover</code> and <code>:focus</code> pseudo-class for styling visual keyboard focus and hover for the sorting button.
        <ul>
          <li>
            The focus indicator encompasses both the column label and sort direction icon to make it easier to perceive when the switch has focus.
          </li>
          <li>
            The hover indicator is the same as focus indicator to make it easier to perceive that clicking either the column label or the sort direction icon will activate the sorting the table.  Including both the column label and the sort direction icon maximizes the target size of the sorting button to make it easier to activate with pointing devices for people with visual and movement impairments.
          </li>
          <li>
            The cursor is changed to a pointer when hovering over the button to help people with visual impairments identify it as an interactive element.
          </li>
        </ul>
      </li>
      <li>
        To ensure the sorting direction icon is synchronized with the value of the <code>aria-sort</code> attribute, CSS selectors based on the <code>aria-sort</code> value are used to render the sort direction icon.
      </li>
      <li>
        To ensure the sorting direction icons have sufficient contrast with the background when high contrast settings invert colors a character entity is used to indicate the sorting direction.
       </li>
    </ul>
  </section>

  <section>
    <h2 id="kbd_label">Keyboard Support</h2>
    <p>Not Applicable</p>
  </section>

  <section>
    <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>
    <table aria-labelledby="rps_label" class="data attributes">
      <thead>
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Attribute</th>
          <th scope="col">Element</th>
          <th scope="col">Usage</th>
        </tr>
      </thead>
      <tbody>
        <tr data-test-id="table-aria-sort">
          <td></td>
          <th scope="row"><code>aria-sort=&quot;<em>value</em>&quot;</code></th>
          <td><code>th</code></td>
          <td>
            <ul>
              <li>
                The <code>aria-sort</code> attribute is only defined on the column that is sorted.  As the sorted columns are changed the <code>aria-sort</code> attribute is removed from un-sorted columns.
              </li>
              <li>
                A value of &quot;<code>ascending</code>&quot; identifies the data cells in the column are sorted in ascending order.
              </li>
              <li>
                A value of &quot;<code>descending</code>&quot; identifies the data cells in the column are sorted in descending order.
              </li>
            </ul>
          </td>
        </tr>
        <tr data-test-id="button-aria-label">
          <td></td>
          <th scope="row">
            <code>aria-label=&quot;<em>string</em>&quot;</code>
          </th>
          <td><code>button</code></td>
          <td>
            Provides an accessible name for the table.
        </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Javascript and CSS Source Code</h2>
    <!--  After the js and css files are named with the name of this example, change the href and text of the following 2 links to refer to the appropriate js and css files.  -->
    <ul id="css_js_files">
      <li>
        CSS:
        <a href="css/sortable-table.css" type="text/css">sortable-table.css</a>
      </li>
      <li>
        Javascript:
        <a href="js/sortable-table.js" type="text/javascript">sortable-table.css</a>
      </li>
    </ul>
  </section>

  <section>
    <h2 id="sc1_label">HTML Source Code</h2>
    <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
    <pre><code id="sc1"></code></pre>
    <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
    <script>
      sourceCode.add('sc1', 'ex1', 'ex_label', 'css_js_files');
      sourceCode.make();
    </script>
  </section>
  </main>
  <nav>
    <a href="../../#table">Table Design Pattern in WAI-ARIA Authoring Practices 1.2</a>
  </nav>
</body>
</html>
